section.pt-6
	.container
		.row
			.col-md-3
				.row
					.col-md-12
						.results--filter-box.mb-2
							h5 Cottage Search

							.result--filter-box--inner
								label Location
								select.mb-2(ng-model="curFilters.location" ng-options="x.county as x.county for x in properties | unique: 'county'" name='location')

								label Start Date
								.input-group(moment-picker="$root.dateStart" format="YYYY-MM-DD" min-date="$root.dateToday" max-date="$root.dateEnd" start-view="month" today="true" change="$root.pickerChange()")
									span.input-group-addon
										i.ion.ion-calendar
									input.form-control(placeholder="Select a date" ng-model="$root.dateStart" ng-model-options="{ updateOn: 'blur' }")

								label End Date
								.input-group(moment-picker="$root.dateEnd" format="YYYY-MM-DD" start-view="month" min-date="$root.dateStart" change="$root.pickerChange()")
									span.input-group-addon
										i.ion.ion-calendar
									input.form-control(placeholder="Select a date" ng-model="$root.dateEnd" ng-model-options="{ updateOn: 'blur' }")


								//- label Nights
								//- select(ng-model="curFilters.nights" ng-options="o as o for o in nightList | unique: 'county'")


								//- label Sleeps
								//- select.mb-2(ng-model="sleepsFilter" ng-options="x.sleeps as x.sleeps for x in properties | unique: 'sleeps'" name='sleeps')

						.results--filter-box
							h5 Filter Options

							.result--filter-box--inner.mb-2
								label Price (Per Night)
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.costCb.c0")
									label.d-inline-block.mb-0 £0 - £99
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.costCb.c1")
									label.d-inline-block.mb-0 £100 - £199
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.costCb.c2")
									label.d-inline-block.mb-0 £200 - £299

							.result--filter-box--inner.mb-2
								label Features
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.featuresCb.pets")
									label.d-inline-block.mb-0 Pets Allowed {{ featuresFilterCb.pets }}
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.featuresCb.wifi")
									label.d-inline-block.mb-0 Wifi
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.featuresCb.swimming")
									label.d-inline-block.mb-0 Swimming Pool
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.featuresCb.washing")
									label.d-inline-block.mb-0 Washing Machine
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.featuresCb.fireplace")
									label.d-inline-block.mb-0 Fireplace
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.featuresCb.hottub")
									label.d-inline-block.mb-0 Hot Tub

							.result--filter-box--inner.mb-2
								label Bedrooms
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.bedroomsCb.b1")
									label.d-inline-block.mb-0 1
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.bedroomsCb.b2")
									label.d-inline-block.mb-0 2
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.bedroomsCb.b3")
									label.d-inline-block.mb-0 3
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.bedroomsCb.b4")
									label.d-inline-block.mb-0 4
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.bedroomsCb.b5")
									label.d-inline-block.mb-0 5

							.result--filter-box--inner
								label Customer Rating
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.ratingCb.r1")
									label.d-inline-block.mb-0
										span.ion.ion-star.d-inline-block
								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.ratingCb.r2")
									label.d-inline-block.mb-0
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block

								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.ratingCb.r3")
									label.d-inline-block.mb-0
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block

								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.ratingCb.r4")
									label.d-inline-block.mb-0
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block

								div
									input.mr-1(type="checkbox" data-ng-model="filterOptions.ratingCb.r5")
									label.d-inline-block.mb-0
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block
										span.ion.ion-star.d-inline-block


			.col-md-9
				.row
					.col-md-12
						h3 Your Results {{ home.length }} properties found
				.row.py-4
					.col-sm-6
						select(ng-model="resultsOrder")
							option(value="town") Town
							option(value="county") County
							option(value="id") Id
							option(value="cost") Cost
					.col-sm-6.text-right
						select(ng-model="resultsOrder")
							option(value="town") 10
							option(value="county") 20


				.row.my-2.p-2.align-items-center(ng-repeat="home in properties | orderBy : resultsOrder | filter: locationFilter | filter: featureFilter | filter: costFilter | filter: bedroomFilter | filter:ratingFilter" style="background-color: #ffffff;")

					.col-md-5
						img.mw-100(ng-src="{{ home.image }}" alt="Home Image")

					.col-md-5
						h5 {{ home.name }}
						h5 {{ home.town }}, {{ home.county }}

						p Sleeps {{ home.sleeps }} | Bedrooms {{ home.bedrooms }}
						.ion.ion-star.d-inline-block(ng-repeat="i in getRating(home.rating) track by $index")
						hr
						.row
							.col-md-6
								p.mb-1
									span.ion.mr-1(ng-class="home.features.pets ? 'ion-checkmark' : 'ion-close'")
									| Pets Allowed
								p.mb-1
									span.ion.mr-1(ng-class="home.features.wifi ? 'ion-checkmark' : 'ion-close'")
									| Wifi
								p.mb-1
									span.ion.mr-1(ng-class="home.features.swimming ? 'ion-checkmark' : 'ion-close'")
									| Swimming Pool
							.col-md-6
								p.mb-1
									span.ion.mr-1(ng-class="home.features.washing ? 'ion-checkmark' : 'ion-close'")
									| Washing
								p.mb-1
									span.ion.mr-1(ng-class="home.features.fireplace ? 'ion-checkmark' : 'ion-close'")
									| Fireplace
								p.mb-1
									span.ion.mr-1(ng-class="home.features.hottub ? 'ion-checkmark' : 'ion-close'")
									| Hot Tub


					.col-md-2.text-center
						h4 £{{ home.cost * curFilters.nights }}
						h6 For {{ curFilters.nights }} nights
						a.btn(href="#!/details/{{home.id}}") View

